<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container">
  <h1>Change Password</h1>
  <form class="form" name="form" ng-submit="changePassword(form)" novalidate>

    <div class="form-group row">
      <div class="col-xs-12 col-sm-4 col-md-4">
        <label>Current Password</label>

        <input type="password" name="password" class="form-control" ng-model="user.oldPassword"
               mongoose-error/>
        <p class="help-block" ng-show="form.password.$error.mongoose">
            {{ errors.other }}
        </p>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-xs-12 col-sm-4 col-md-4">
        <label>New Password</label>

        <input type="password" name="newPassword" class="form-control" ng-model="user.newPassword"
               ng-minlength="3"
               required/>
        <div class="help-block" style="color: red;"
           ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || submitted)">
          Password must be at least 3 characters.
        </div>
      </div>
    </div>

    <div class="form-group row">
      <div class="col-xs-12 col-sm-4 col-md-4">
        <label>Confirm New Password</label>

        <input type="password" name="confPassword" class="form-control" ng-model="user.confPassword"
               required/>
        <div class="help-block" style="color: red;"
           ng-show="((user.newPassword !== user.confPassword) || form.confPassword.$error.required) && form.confPassword.$dirty">
          Input is not the same as the new password.
        </div>
      </div>
    </div>
    
    <button class="btn btn-lg btn-primary" type="submit">Save changes</button>

    <p class="help-block"> <h3>{{ message }}</h3> </p>

  </form>
  <br />
</div>

<div ng-include="'components/footer/footer.html'"></div>